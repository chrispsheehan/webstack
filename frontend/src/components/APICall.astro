<!doctype html>
<html lang="en">
  <body>
    <script>
      async function fetchData() {
        try {
          const response = await fetch("/api/health");
          if (!response.ok) {
            throw new Error(`HTTP error! Status: ${response.status}`);
          }

          const data = await response.json();

          // Create section only if fetch succeeds
          const section = document.createElement("section");
          section.id = "api-message";

          const paragraph = document.createElement("p");
          paragraph.textContent = data.message;

          section.appendChild(paragraph);
          document.body.appendChild(section);
        } catch (error) {
          console.error("Error fetching data:", error);
          // Do not render the section
        }
      }

      fetchData();
    </script>
  </body>
</html>
